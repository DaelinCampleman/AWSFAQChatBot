{"ast":null,"code":"import { __asyncGenerator, __await, __awaiter, __generator } from \"tslib\";\nexport var readableStreamtoIterable = function (readableStream) {\n  var _a;\n\n  return _a = {}, _a[Symbol.asyncIterator] = function () {\n    return __asyncGenerator(this, arguments, function () {\n      var reader, _a, done, value;\n\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            reader = readableStream.getReader();\n            _b.label = 1;\n\n          case 1:\n            _b.trys.push([1,, 9, 10]);\n\n            _b.label = 2;\n\n          case 2:\n            if (!true) return [3, 8];\n            return [4, __await(reader.read())];\n\n          case 3:\n            _a = _b.sent(), done = _a.done, value = _a.value;\n            if (!done) return [3, 5];\n            return [4, __await(void 0)];\n\n          case 4:\n            return [2, _b.sent()];\n\n          case 5:\n            return [4, __await(value)];\n\n          case 6:\n            return [4, _b.sent()];\n\n          case 7:\n            _b.sent();\n\n            return [3, 2];\n\n          case 8:\n            return [3, 10];\n\n          case 9:\n            reader.releaseLock();\n            return [7];\n\n          case 10:\n            return [2];\n        }\n      });\n    });\n  }, _a;\n};\nexport var iterableToReadableStream = function (asyncIterable) {\n  var iterator = asyncIterable[Symbol.asyncIterator]();\n  return new ReadableStream({\n    pull: function (controller) {\n      return __awaiter(this, void 0, void 0, function () {\n        var _a, done, value;\n\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              return [4, iterator.next()];\n\n            case 1:\n              _a = _b.sent(), done = _a.done, value = _a.value;\n\n              if (done) {\n                return [2, controller.close()];\n              }\n\n              controller.enqueue(value);\n              return [2];\n          }\n        });\n      });\n    }\n  });\n};","map":null,"metadata":{},"sourceType":"module"}